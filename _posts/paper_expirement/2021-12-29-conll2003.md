# 模型试验记录

使用conll2003数据集来测试模型，判断是魔性问题还是dnrti数据集问题

运行文件放在dev02.py上

首先测试运行，发现标签不均衡现象存在

![img](https://gitee.com/solarwindrider/SolarWindRider/raw/main/_posts/paper_expirement//2021-12-29.png)

```
              precision    recall  f1-score   support

           O       0.83      1.00      0.91     38992
       B-PER       0.00      0.00      0.00      1617
       I-PER       0.00      0.00      0.00      1156
       B-ORG       0.00      0.00      0.00      1661
       I-ORG       0.00      0.00      0.00       835
       B-LOC       0.00      0.00      0.00      1668
       I-LOC       0.00      0.00      0.00       257
      B-MISC       0.00      0.00      0.00       702
      I-MISC       0.00      0.00      0.00       216

    accuracy                           0.83     47104
   macro avg       0.09      0.11      0.10     47104
weighted avg       0.69      0.83      0.75     47104
```

## 标签不均衡

所以需要给权重

```
+----+--------+--------+--------+----------+
|    | 0      |    cnt | %      |   weight |
|----+--------+--------+--------+----------|
|  0 | O      | 170524 | 83.36% |   1.1996 |
|  1 | B-LOC  |   7140 | 3.49%  |  28.6508 |
|  2 | B-PER  |   6600 | 3.23%  |  30.995  |
|  3 | B-ORG  |   6321 | 3.09%  |  32.3631 |
|  4 | I-PER  |   4528 | 2.21%  |  45.1782 |
|  5 | I-ORG  |   3704 | 1.81%  |  55.2287 |
|  6 | B-MISC |   3438 | 1.68%  |  59.5017 |
|  7 | I-LOC  |   1157 | 0.57%  | 176.808  |
|  8 | I-MISC |   1155 | 0.56%  | 177.114  |
+----+--------+--------+--------+----------+
```

## 2021-12-29-conll1.pkl

cuda 0

roberta_lr 1e-5

linear_lr 1e-2
